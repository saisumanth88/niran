

scenario 2 





source 12 col 
target  13 col which 12 col are same as source 

there is no prim key in sourcr and target  


unqiue index are mand if prim key is not there 

TABLE hr.emp, KEYCOLS (id, first, last, birthdate):  both in source(extract) and target(replicat)

trandata at column level do below in source database connection for data intergiry usage(KEYCOLS) 
ADD TRANDATA MDB_SCHEMA.PROVIDER_TEST, COLS (FILE_ID,INPUT_OUTPUT_INDICATOR,MARKET_PARTICIPANT_CODE)



colmap (
FILE_ID=FILE_ID,INPUT_OUTPUT_INDICATOR=INPUT_OUTPUT_INDICATOR,MARKET_PARTICIPANT_CODE=MARKET_PARTICIPANT_CODE, VERSION_OVERRIDE_IND=VERS
ION_OVERRIDE_IND, REPROCESSING_CHECK_IND=REPROCESSING_CHECK_IND, EMPTY_FILES_REQUIRED_IND=EMPTY_FILES_REQUIRED_IND, VERSION_PRECEDENCE=M
ARKET_PARTICIPANT_CODE, OUTPUT_FILE_EXTENSION=OUTPUT_FILE_EXTENSION, CREATED_DATE=CREATED_DATE, LAST_UPDATE_USER_ID=LAST_UPDATE_USER_ID,
 LAST_UPDATE_DATE=LAST_UPDATE_DATE, AUTO_CANCEL_FILE_REQUEST=AUTO_CANCEL_FILE_REQUEST,CREATED_USER_ID=FILE_ID
)

or 
colmap (
usedefaults, VERSION_PRECEDENCE=M
ARKET_PARTICIPANT_CODE,CREATED_USER_ID=FILE_ID
)








GGSCI (cd6f05460aa4427 as gguser@BSMPURS) 144> view params D1CSE

EXTRACT  d1cse
SETENV (ORACLE_SID=BSMPUR)
SETENV (NLSLANG=WE8MSWIN1252)
USERID gguser@BSMPUR, PASSWORD gguser
EXTTRAIL /u01/app/oracle/product/gg/dirdat/d1
IGNOREREPLICATES
GETAPPLOPS
reportcount every 5 minutes, rate
reportrollover at 00:01
report at 00:01
statoptions resetreportstats
DDL INCLUDE MAPPED
DDLOPTIONS ADDTRANDATA
TABLE MDB_SCHEMA.PROVIDER_TEST, KEYCOLS (FILE_ID,INPUT_OUTPUT_INDICATOR,MARKET_PARTICIPANT_CODE);

add checkpointtable gguser.test_pro_checkpoint
add trandata MDB_SCHEMA.PROVIDER_TEST
add extract d1cse tranlog, INTEGRATED tranlog, scn 881936942
add exttrail  /u01/app/oracle/product/gg/dirdat/d1 extract d1cse
register EXTRACT d1cse, DATABASE


start extract d1cse ATCSN 881936942


GGSCI (cd6f05460aa4427 as gguser@BSMPURS) 145> view params D1CSR

REPLICAT d1csr
SETENV (ORACLE_SID=BSMPURS)
SETENV (NLSLANG=WE8MSWIN1252)
USERID gguser@BSMPURS, password gguser
REPERROR (DEFAULT, ABEND)
REPERROR (-1, IGNORE)
DDLERROR DEFAULT IGNORE
reportcount every 5 minutes, rate
reportrollover at 00:01
report at 00:01
statoptions resetreportstats
MAP MDB_SCHEMA.PROVIDER_TEST, TARGET MDB_SCHEMA.PROVIDER_TEST, KEYCOLS (FILE_ID,INPUT_OUTPUT_INDICATOR,MARKET_PARTICIPANT_CODE),colmap (
FILE_ID=FILE_ID,INPUT_OUTPUT_INDICATOR=INPUT_OUTPUT_INDICATOR,MARKET_PARTICIPANT_CODE=MARKET_PARTICIPANT_CODE, VERSION_OVERRIDE_IND=VERS
ION_OVERRIDE_IND, REPROCESSING_CHECK_IND=REPROCESSING_CHECK_IND, EMPTY_FILES_REQUIRED_IND=EMPTY_FILES_REQUIRED_IND, VERSION_PRECEDENCE=M
ARKET_PARTICIPANT_CODE, OUTPUT_FILE_EXTENSION=OUTPUT_FILE_EXTENSION, CREATED_DATE=CREATED_DATE, LAST_UPDATE_USER_ID=LAST_UPDATE_USER_ID,
 LAST_UPDATE_DATE=LAST_UPDATE_DATE, AUTO_CANCEL_FILE_REQUEST=AUTO_CANCEL_FILE_REQUEST,CREATED_USER_ID=FILE_ID
);


add checkpointtable gguser.test_pro_checkpoint

add replicat d1csr , integrated, exttrail /u01/app/oracle/product/gg/dirdat/d1,checkpointtable gguser.test_pro_checkpoint

START REPLICAT d1csr

INFO REPLICAT d1csr
VIEW REPORT d1csr

Date COLMAP:

Replicat rep99
SETENV(ORACLE_SID='pal')
DBOPTIONS INTEGRATEDPARAMS(parallelism 3)
--AssumeTargetDefs
DiscardFile ./dirrpt/rep99.dsc, Purge
USERID oggadmin@pal1141, PASSWORD oggadmin
REPERROR (DEFAULT, ABEND)
REPERROR (-1, IGNORE)
DDLERROR DEFAULT IGNORE
REPERROR (1403, DISCARD)
SOURCEDEFS ./dirdef/defg1.def
--Map PAL_MAIN.ACH_BANK_ERROR, target PAL_MAIN.ACH_BANK_ERROR;
map pal_main.DIGITAL_WALLET_TXN_INFO,target pal_main.DIGITAL_WALLET_TXN_INFO;
map pal_main.FRM_ACH_TRANSACTION_MATCH,target pal_main.FRM_ACH_TRANSACTION_MATCH;
map pal_main.JOB_CONTROL,target pal_main.JOB_CONTROL;
map pal_main.MIGRATION_HISTORY,target pal_main.MIGRATION_HISTORY;
map pal_main.PAL_JOB_HISTORY,target pal_main.PAL_JOB_HISTORY;
map pal_main.TRANSACTION_CUSTODY,target pal_main.TRANSACTION_CUSTODY;
map pal_main.CPA_CREDIT_SETTLEMENT_EVENT,target pal_main.CPA_CREDIT_SETTLEMENT_EVENT,&
colmap(usedefaults,INSERTED_DTM=@IF(@COLTEST(INSERTED_DTM,NULL),@datenow(),INSERTED_DTM));


REPLICAT rnisd
SETENV (ORACLE_SID=nis)
SETENV (NLSLANG=AL32UTF8)
DBOPTIONS INTEGRATEDPARAMS(parallelism 3)
USERID oggadmin@nis, password oggadmin
ASSUMETARGETDEFS
DiscardFile ./dirrpt/rnisd.dsc, Purge
REPERROR (DEFAULT, ABEND)
REPERROR (-1, IGNORE)
REPERROR (1403, DISCARD)
DDLERROR DEFAULT IGNORE
Map nis_main.DATA_IMPORT, target nis_main.DATA_IMPORT,&
COLMAP(USEDEFAULTS, ROUTE_ID=DATA_IMPORT_ID, birth_date=@DATE('YYYY-MMM-DD','YY-MMM-DD','20-JAN-08'),today_date=@DATENOW(), to
day_timestamp=@DATENOW());


Replicat rncaq
SETENV(ORACLE_SID='ncs')
DBOPTIONS INTEGRATEDPARAMS(parallelism 3)
AssumeTargetDefs
DiscardFile ./dirrpt/rpdw.dsc, Purge
USERID oggadmin@NCS, PASSWORD oggadmin
REPERROR (DEFAULT, ABEND)
REPERROR (-1, IGNORE)
DDLERROR DEFAULT IGNORE
REPERROR (1403, DISCARD)
Map NEXTFARE_MAIN.BE_MANUAL_ADJUST, target NEXTFARE_MAIN.BE_MANUAL_ADJUST, &
COLMAP (USEDEFAULTS, BE_LOCATION_ID = 1, AR_POSTING_TXN_ID = 'default', AR_INVOICE_ID ='defaultid2', STATUS='success', RECORD_
STATUS='copied');



Replicat parameter with colmap STRCAT and QUERY function (replicate the data from different table and same schema)
===========

REPLICAT rnise
SETENV (ORACLE_SID=nis)
SETENV (NLSLANG=AL32UTF8)
DBOPTIONS INTEGRATEDPARAMS(parallelism 3)
include ./dirprm/include_auth_NISTGT
ASSUMETARGETDEFS
DiscardFile ./dirrpt/rnis.dsc, Purge
REPERROR (DEFAULT, ABEND)
REPERROR (-1, IGNORE)
REPERROR (1403, DISCARD)
DDLERROR DEFAULT IGNORE
MAP nis_main.EMPLOYEE, target nis_main.employee_data, &
SQLEXEC (ID lookup,&
QUERY 'SELECT DEPT_NAME FROM NIS_MAIN.DEPARTMENT WHERE DEPT_ID = :CODE_IN_PARAM',&
PARAMS (CODE_IN_PARAM = dept_id )), &
COLMAP (USEDEFAULTS,EMP_MOBILE='9988776655',FULL_NAME =@STRCAT(FIRST_NAME,' ',SURNAME),DEPARTMENT_NAME = lookup.DEPT_NAME);

Replicat parameter with colmap QUERY function (replicate the data from different table and different schema)
===========

REPLICAT rnise
SETENV (ORACLE_SID=nis)
SETENV (NLSLANG=AL32UTF8)
DBOPTIONS INTEGRATEDPARAMS(parallelism 3)
include ./dirprm/include_auth_NISTGT
ASSUMETARGETDEFS
DiscardFile ./dirrpt/rnis.dsc, Purge
REPERROR (DEFAULT, ABEND)
REPERROR (-1, IGNORE)
REPERROR (1403, DISCARD)
DDLERROR DEFAULT IGNORE
MAP nis_main.EMPLOYEE, target nis_main.employee_data, &
SQLEXEC (ID lookup,&
QUERY 'SELECT DEPT_NAME FROM NEXTFARE_ADMIN.DEPARTMENT WHERE DEPT_ID = :CODE_IN_PARAM',&
PARAMS (CODE_IN_PARAM = dept_id )), &
COLMAP (USEDEFAULTS,EMP_MOBILE='9988776655',FULL_NAME =@STRCAT(FIRST_NAME,' ',SURNAME),DEPARTMENT_NAME = lookup.DEPT_NAME);
Replicat parameter with colmap function of Date values
======================

REPLICAT rnisd
SETENV (ORACLE_SID=nis)
SETENV (NLSLANG=AL32UTF8)
DBOPTIONS INTEGRATEDPARAMS(parallelism 3)
USERID oggadmin@nis, password oggadmin
ASSUMETARGETDEFS
DiscardFile ./dirrpt/rnis.dsc, Purge
REPERROR (DEFAULT, ABEND)
REPERROR (-1, IGNORE)
REPERROR (1403, DISCARD)
DDLERROR DEFAULT IGNORE
Map nis_main.DATA_IMPORT, target nis_main.DATA_IMPORT,COLMAP(USEDEFAULTS, ROUTE_ID=DATA_IMPORT_ID, birth_date=@DATE('YYYY-MMM-DD','YY-MMM-DD','20-JAN-08'),today_date=@DATENOW(), today_timestamp=@DATENOW());